#!/bin/bash

# This script allows for changing and definig color profiles. It supports
# setting a color profile as well as clearing the current profile and resetting
# back to defaults.

# Foot via foot.ini. In this case we have one ini file so we will need to concat
# different ini files in to one. Each foot profile can be defined with its own ini
# file called foot.profile_name.ini. Concating these in to one file called foot.ini
# will allow max flexability.
foot-build-configuration() {
  local current_script_location
  current_script_location="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
  local foot_profile_base_path="$current_script_location/../profiles/foot"

  # Loop over the provided active profiles
  echo "# DO NOT EDIT THIS FILE"
  echo "# Generated from dot profile. See the profile script for details"
  echo "# Active profiles: $@"
  echo ""
  echo ""

  for active_profile in "$@"; do
    local profile_file_path
    profile_file_path=$(realpath "$foot_profile_base_path/foot.$active_profile.ini")
    echo "# Generated from Profile $active_profile"
    echo "# $profile_file_path"
    cat "$profile_file_path"
    echo ""
    echo ""
  done
}

#
# Tmux supports plugins for color schemes. Not sure how we can choose this from
# the CLI
#
# Nvim same as tmux will have color config via a plugin that is installed by its
# own package manager. We might be able to trigger lazy to update.
#
# BAT has a command line. We should be able to do a copy
#
# Waybar supports a stylesheet that we should be able to copy in and out
#
# Wofi supports theme files and should be easy
#
# Hyprland is currently not part of the configuration so we should bring that
# in to this project first

foot-build-configuration "base" "comic-shans" "catppuccin"
